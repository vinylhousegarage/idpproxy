<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login</title>
  <style>
    .disabled { pointer-events:none; opacity:.5; cursor:not-allowed; }
    .login-wrap { text-align:center; margin-top:20px; }
    .btn {
      display:inline-flex; align-items:center; gap:.6rem;
      padding:.6rem 1rem; border-radius:.5rem; text-decoration:none;
      font: 400 14px/1.2 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      border:1px solid #DADCE0;
    }

    .btn:focus-visible { outline: 2px solid #4285F4; outline-offset: 2px; }

    .btn-google { background:#fff; color:#1f1f1f; }
    .btn-google svg { width:18px; height:18px; }

    .btn-github { background:#fff; color:#24292f; }
    .btn-github svg { width:18px; height:18px; display:inline-block; vertical-align:middle; }

    .consent { text-align:center; margin-top:12px; }
    .consent label { cursor:pointer; }
  </style>
</head>
<body>
  <h2 style="text-align:center;">ログイン</h2>

  <form id="consent-form" class="consent">
    <fieldset style="border:0; padding:0; margin:0;">
      <legend class="sr-only" style="position:absolute; left:-9999px;">ご利用条件への同意</legend>
      <label>
        <input type="checkbox" id="agree" aria-describedby="legal-desc">
        <span id="legal-desc">
          <a href="/terms" target="_blank" rel="noopener noreferrer">利用規約</a> と
          <a href="/privacy" target="_blank" rel="noopener noreferrer">プライバシーポリシー</a> に同意します
        </span>
      </label>
    </fieldset>
  </form>

  <div class="login-wrap">
    <a id="btn-google" class="btn btn-google disabled" href="/login/google" aria-disabled="true" tabindex="-1">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" aria-hidden="true" focusable="false">
        <path fill="#EA4335" d="M24 9.5c3.54 0 6.72 1.22 9.23 3.61l6.85-6.85C35.9 2.35 30.47 0 24 0 14.62 0 6.45 5.38 2.46 13.22l7.98 6.19C12.33 13.37 17.74 9.5 24 9.5z"/>
        <path fill="#4285F4" d="M46.08 24.5c0-1.54-.14-3.02-.39-4.5H24v9h12.62c-.55 2.87-2.24 5.29-4.76 6.93l7.73 6c4.51-4.17 7.49-10.3 7.49-17.43z"/>
        <path fill="#FBBC05" d="M10.44 28.41A14.5 14.5 0 0 1 9.5 24c0-1.5.26-2.95.72-4.41l-7.98-6.19A23.95 23.95 0 0 0 0 24c0 3.93.94 7.65 2.61 10.94l7.83-6.53z"/>
        <path fill="#34A853" d="M24 48c6.48 0 11.91-2.13 15.88-5.8l-7.73-6c-2.15 1.45-4.9 2.3-8.15 2.3-6.26 0-11.67-3.87-13.55-9.22l-7.98 6.19C6.45 42.62 14.62 48 24 48z"/>
        <path fill="none" d="M0 0h48v48H0z"/>
      </svg>
      Sign in with Google
    </a>

    <a id="btn-github" class="btn btn-github disabled" href="/login/github" aria-disabled="true" tabindex="-1">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" aria-hidden="true" focusable="false">
        <path fill="#181717" d="M8 0C3.58 0 0 3.58 0 8a8 8 0 0 0 5.47 7.59c.4.07.55-.17.55-.38
        0-.19-.01-.82-.01-1.49-2 .37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13
        -.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66
        .07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95
        0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12
        0 0 .67-.21 2.2.82a7.65 7.65 0 0 1 2-.27c.68 0 1.36.09 2 .27
        1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12
        .51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48
        0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8 8 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
      </svg>
      Sign in with GitHub
    </a>
  </div>

  <script>
    const agree = document.getElementById('agree');
    const buttons = [document.getElementById('btn-google'), document.getElementById('btn-github')];

    function setEnabled(on) {
      buttons.forEach(b => {
        b.classList.toggle('disabled', !on);
        b.setAttribute('aria-disabled', String(!on));
        if (!on) {
          b.setAttribute('tabindex', '-1');
        } else {
          b.removeAttribute('tabindex');
        }
      });
    }
    setEnabled(false);
    agree.addEventListener('change', e => setEnabled(e.target.checked));
  </script>
</body>
</html>
